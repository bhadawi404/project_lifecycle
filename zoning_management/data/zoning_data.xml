<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- ================
         SNIPPETS
    ================= -->
    <record id="zoning_snippet_height_limit" model="project.zoning.snippet">
        <field name="name">Maximum Building Height</field>
        <field name="reference_code">ZS-001-01</field>
        <field name="description">
            Maximum building height shall not exceed 30 feet or 2 stories for residential districts as per IZC §402.
        </field>
        <field name="city">Los Angeles</field>
        <field name="state">CA</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="is_mandatory">True</field>
        <field name="action_recommendation">
            Verify elevation drawings for compliance with 30 ft height limit.
        </field>
        <field name="sheet_map_id" ref="sheet_map_height"/>
    </record>

    <record id="zoning_snippet_front_setback" model="project.zoning.snippet">
        <field name="name">Front Setback Requirement</field>
        <field name="reference_code">ZS-001-02</field>
        <field name="description">
            A minimum 25 ft front setback is required from property line to the main building façade per Los Angeles Municipal Code 12.21.C.
        </field>
        <field name="city">Los Angeles</field>
        <field name="state">CA</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="is_mandatory">True</field>
        <field name="action_recommendation">
            Check architectural site plan for minimum 25 ft setback.
        </field>
        <field name="sheet_map_id" ref="sheet_map_setback"/>
    </record>

    <record id="zoning_snippet_far_limit" model="project.zoning.snippet">
        <field name="name">Floor Area Ratio (FAR) Limit</field>
        <field name="reference_code">ZS-001-03</field>
        <field name="description">
            The maximum FAR for residential lots in R1 zone shall not exceed 0.45:1 per IZC §404.
        </field>
        <field name="city">Los Angeles</field>
        <field name="state">CA</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="is_mandatory">True</field>
        <field name="action_recommendation">
            Compute total built-up area divided by lot area to confirm compliance.
        </field>
        <field name="sheet_map_id" ref="sheet_map_area"/>
    </record>

    <record id="zoning_snippet_parking" model="project.zoning.snippet">
        <field name="name">Minimum Parking Spaces</field>
        <field name="reference_code">ZS-001-04</field>
        <field name="description">
            At least 2 off-street parking spaces per dwelling unit are required for single-family houses.
        </field>
        <field name="city">Chicago</field>
        <field name="state">IL</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="is_mandatory">True</field>
        <field name="action_recommendation">
            Confirm parking layout provides 2 spaces per unit minimum.
        </field>
        <field name="sheet_map_id" ref="sheet_map_parking"/>
    </record>

    <record id="zoning_snippet_environment" model="project.zoning.snippet">
        <field name="name">Tree Preservation Requirement</field>
        <field name="reference_code">ZS-001-05</field>
        <field name="description">
            Existing mature trees over 12 inches in diameter shall be preserved or replaced as per City Environmental Ordinance.
        </field>
        <field name="city">New York</field>
        <field name="state">NY</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="is_mandatory">False</field>
        <field name="action_recommendation">
            Include tree protection plan in submission package.
        </field>
        <field name="sheet_map_id" ref="sheet_map_environment"/>
    </record>
    <!-- ================
         RULES
    ================= -->
    <record id="zoning_rule_residential_height" model="project.zoning.rule">
        <field name="name">Residential Zone Height Limit</field>
        <field name="code">ZR-001</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="legal_reference">IZC §402</field>
        <field name="jurisdiction">city</field>
        <field name="severity">critical</field>
        <field name="operator">le</field>
        <field name="value">30.0</field>
        <field name="auto_action">create_task</field>
        <field name="note">Applies to all single-family residential buildings in R1 zones.</field>
        <field name="snippet_ids" eval="[(6, 0, [ref('zoning_snippet_height_limit')])]"/>
    </record>

    <record id="zoning_rule_residential_setback" model="project.zoning.rule">
        <field name="name">Residential Front Setback</field>
        <field name="code">ZR-002</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="legal_reference">LAMC §12.21.C</field>
        <field name="jurisdiction">city</field>
        <field name="severity">major</field>
        <field name="operator">ge</field>
        <field name="value">25.0</field>
        <field name="auto_action">warning</field>
        <field name="note">Front setback less than 25 ft is not permitted.</field>
        <field name="snippet_ids" eval="[(6, 0, [ref('zoning_snippet_front_setback')])]"/>
    </record>

    <record id="zoning_rule_far_limit" model="project.zoning.rule">
        <field name="name">Residential FAR Limit</field>
        <field name="code">ZR-003</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="legal_reference">IZC §404</field>
        <field name="jurisdiction">city</field>
        <field name="severity">major</field>
        <field name="operator">le</field>
        <field name="value">0.45</field>
        <field name="auto_action">create_task</field>
        <field name="note">FAR for R1 district must not exceed 0.45.</field>
        <field name="snippet_ids" eval="[(6, 0, [ref('zoning_snippet_far_limit')])]"/>
    </record>

    <record id="zoning_rule_parking_requirement" model="project.zoning.rule">
        <field name="name">Parking Requirement for Residential</field>
        <field name="code">ZR-004</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="legal_reference">Chicago Zoning Code §17-10-0207</field>
        <field name="jurisdiction">city</field>
        <field name="severity">minor</field>
        <field name="operator">ge</field>
        <field name="value">2.0</field>
        <field name="auto_action">warning</field>
        <field name="note">Two parking spaces per unit required.</field>
        <field name="snippet_ids" eval="[(6, 0, [ref('zoning_snippet_parking')])]"/>
    </record>

    <record id="zoning_rule_environment" model="project.zoning.rule">
        <field name="name">Tree Preservation Rule</field>
        <field name="code">ZR-005</field>
        <field name="project_type_id" ref="project_management_core.project_type_residential"/>
        <field name="legal_reference">NYC Environmental Code §505</field>
        <field name="jurisdiction">city</field>
        <field name="severity">minor</field>
        <field name="operator">eq</field>
        <field name="value">1.0</field>
        <field name="auto_action">none</field>
        <field name="note">Mature trees should be preserved as much as practical.</field>
        <field name="snippet_ids" eval="[(6, 0, [ref('zoning_snippet_environment')])]"/>
    </record>
</odoo>
